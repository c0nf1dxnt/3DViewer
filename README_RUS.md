# 3DViewer v2.1

## Описание

3DViewer - программа для визуализации трехмерных моделей в формате .obj, разработанная на C++ с использованием Qt 5 и OpenGL. Приложение позволяет загружать, просматривать и трансформировать 3D модели с помощью интуитивно понятного пользовательского интерфейса.

## Функциональность

- Загрузка моделей в формате .obj
- Перемещение, вращение и масштабирование модели
- Отображение информации о модели (количество вершин и рёбер)
- Управление с помощью мыши и элементов интерфейса
- Темно-серый фон для комфортного просмотра моделей
- Интерфейс командной строки для прямой загрузки файлов

## Архитектура

Проект реализован с использованием паттерна Model-View-Controller (MVC):

- **Model**: Загрузка, хранение и трансформация данных 3D модели
- **View**: Графический интерфейс и визуализация с помощью OpenGL
- **Controller**: Обработка действий пользователя и связь между Model и View

## Системные требования

- C++17 совместимый компилятор
- CMake 3.10 или выше
- Qt 5 (Widgets, Core, Gui, OpenGL)
- OpenGL, GLU
- Для Linux: GLUT, libgl1-mesa-dev
- Для macOS: Homebrew с установленным Qt 5 (`brew install qt@5`)

## Сборка и запуск

### Быстрый старт

```bash
make run
```

Эта команда выполнит сборку проекта и запустит приложение.

### Ручная сборка

```bash
# Создание директории для сборки
mkdir -p build

# Сборка проекта
cd build
cmake ..
make

# Запуск приложения
./bin/viewer
```

### Параметры командной строки

Приложение поддерживает несколько параметров командной строки:
```bash
# Показать справку
./bin/viewer -h

# Показать версию
./bin/viewer -v

# Загрузить файл модели при запуске
./bin/viewer -f путь/к/модели.obj
```

### Дополнительные команды

```bash
# Очистка файлов сборки
make clean
```

## Структура проекта

```
3DViewer/
├── CMakeLists.txt       # Конфигурация CMake
├── Makefile             # Makefile для удобной сборки
├── README.md            # Документация проекта (английский)
├── README_RUS.md        # Документация проекта (русский)
├── .clang-format        # Конфигурация форматирования кода
├── src/                 # Исходный код
│   ├── main.cpp         # Точка входа в программу
│   ├── controller/      # Контроллер (MVC)
│   │   ├── controller.h
│   │   └── controller.cpp
│   ├── model/           # Модель (MVC)
│   │   ├── model.h
│   │   └── model.cpp
│   └── view/            # Представление (MVC)
│       ├── mainwindow.h
│       ├── mainwindow.cpp
│       ├── glwidget.h
│       └── glwidget.cpp
└── resources/           # Ресурсы
    ├── cube.obj         # Пример 3D модели куба
    ├── dragon.obj       # 3D модель дракона
    └── madara.obj       # 3D модель Мадары
```

## Использование

1. Запустите программу командой `make run` или `./bin/viewer`
2. Нажмите кнопку "Открыть файл" для загрузки .obj модели, или используйте параметр командной строки `-f имя_файла.obj`
3. Используйте мышь для манипуляции моделью:
   - Левая кнопка мыши + перемещение: вращение модели
   - Колесо мыши: масштабирование
4. Используйте элементы управления в интерфейсе для:
   - Перемещения модели по осям X, Y, Z
   - Вращения модели вокруг осей X, Y, Z
   - Масштабирования модели

## Формат OBJ

Программа поддерживает стандартный формат OBJ для 3D моделей, включающий:

- Вершины (v): координаты точек в 3D пространстве
- Грани (f): определение полигонов через индексы вершин

Пример простого куба в формате OBJ (resources/cube.obj):
```
v -1.0 -1.0 -1.0  # вершина 1
v -1.0 -1.0  1.0  # вершина 2
...
f 1 3 7 5  # грань 1
f 2 6 8 4  # грань 2
...
```

## Пространство имен

Проект использует пространство имен `viewer3d` для всех своих компонентов во избежание конфликтов имен.